<!DOCTYPE html>
<html>
        <head>
                <meta charset="utf-8" />
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <title>BEC Bank</title>
                <meta name="viewport" content="width=device-width, initial-scale=1">
                
                
                <style>
                    table {
                        font-family: arial, sans-serif;
                        border-collapse: collapse;
                        width: 100%;
                    }
            
                    td,
                    th {
                        border: 1px solid white;
                        text-align: left;
                        padding: 8px;
                    }
            
                    tr:nth-child(even) {
                        background-color: grey;
                    }
                </style>
            </head>
            
            <body>
            
                <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
                <button onclick="hentbruger()">KLIK MIG FOR RELOAD</button>
                <table style="width:100%">
                    <ul id="liste"></ul>
                </table>
            
                <script>
                    hentbruger();
            
                    function hentbruger() {
                        var xmlhttp = new XMLHttpRequest();
             
                        xmlhttp.onreadystatechange = function () {
                            if (this.readyState == 4 && this.status == 200) {
                                console.log("virket")
                                console.log("response" + this.response);
                                //laver det om til object
                                var obj = JSON.parse(this.response)
                                
                                var startappend = "<tr><th>id</th><th>fornavn</th><th>efternavn</th><th>kontornr</th><th>indestaende</th><th>rente</th><th>brugernavn</th><th>password</th></tr> "
                                $('#liste').append($(startappend));
            
                                for (let index = 0; index < obj.length; index++) {
                                    var start = '<tr>';
            
                                    var id = '<td>'+ obj[index].id+' </td>'
                                    var fornavn = '<td>'+ obj[index].fornavn+' </td>'
                                    var efternavn = '<td>'+ obj[index].efternavn+' </td>'
                                    var kontonr = '<td>'+ obj[index].kontonr+' </td>'
                                    var indestaende = '<td>'+ obj[index].indestaende+' </td>'
                                    var rente = '<td>'+ obj[index].rente+' </td>'
                                    var brugernavn = '<td>'+ obj[index].brugernavn+' </td>'
                                    var password = '<td>'+ obj[index].password+' </td>'
            
                                    var slut = '</tr>'
            
                                    var finallinje = start+id+fornavn+efternavn+kontonr+indestaende+rente+brugernavn+password+slut;
                                    $('#liste').append($(finallinje));
            
                                }
            
            
            
                            }
                        }
            
                        xmlhttp.open("GET", "http://localhost:8088/hent", true);
                        xmlhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                        xmlhttp.send();
                    }
                </script>
            </body>
            
            </html>